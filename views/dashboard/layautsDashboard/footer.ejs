        <div class="modal" id="scan">
          <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" role="document">
              <div class="modal-content modal-content-demo modal-3d">
                  <button class="btn ripple btn-secondary close-btn" data-dismiss="modal" type="button">X</button>
                  <div class="modal-body py-4">
                      <div style="width: 100%" id="reader"></div>
                  </div>
              </div>
          </div>
        </div>  

        <!-- Back-to-top -->
        <a href="#top" id="back-to-top"><i class="fe fe-arrow-up"></i></a>

        <!-- PWA -->
		    <script src="/pwa.js"></script>

        <!-- Jquery js-->
        <script src="/assetsDashboard/plugins/jquery/jquery.min.js"></script>

        <!-- Bootstrap js-->
        <script src="/assetsDashboard/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>

        <!-- Jquery-Ui js-->
        <script src="/assetsDashboard/plugins/jquery-ui/ui/widgets/datepicker.js"></script>

        <!-- Internal Jquery-steps js-->
        <script src="/assetsDashboard/plugins/jquery-steps/jquery.steps.min.js"></script>

        <!-- Internal Accordion-Wizard-Form js-->
        <script src="/assetsDashboard/plugins/accordion-Wizard-Form/jquery.accordion-wizard.min.js"></script>

        <!-- Internal Form-wizard js-->
        <script src="/assetsDashboard/js/form-wizard.js"></script>

        <!-- Internal Jquery.maskedinput js-->
        <script src="/assetsDashboard/plugins/jquery.maskedinput/jquery.maskedinput.js"></script>

        <!-- Internal Specturm-colorpicker js-->
        <script src="/assetsDashboard/plugins/spectrum-colorpicker/spectrum.js"></script>

        <!-- Internal Ion-rangeslider js-->
        <script src="/assetsDashboard/plugins/ion-rangeslider/js/ion.rangeSlider.min.js"></script>

        <!-- Internal Daternagepicker js-->
        <script src="/assetsDashboard/plugins/bootstrap-daterangepicker/moment.min.js"></script>
        <script src="/assetsDashboard/plugins/bootstrap-daterangepicker/daterangepicker.js"></script>

        <!-- Internal Sweet-Alert js-->
        <script src="/assetsDashboard/plugins/sweet-alert/sweetalert.min.js"></script>
        <script src="/assetsDashboard/plugins/sweet-alert/jquery.sweet-alert.js"></script>

        <!-- Internal Fileuploads js-->
        <script src="/assetsDashboard/plugins/fileuploads/js/fileupload.js"></script>
        <script src="/assetsDashboard/plugins/fileuploads/js/file-upload.js"></script>

        <!-- InternalFancy uploader js-->
        <script src="/assetsDashboard/plugins/fancyuploder/jquery.ui.widget.js"></script>
        <script src="/assetsDashboard/plugins/fancyuploder/jquery.fileupload.js"></script>
        <script src="/assetsDashboard/plugins/fancyuploder/jquery.iframe-transport.js"></script>
        <script src="/assetsDashboard/plugins/fancyuploder/jquery.fancy-fileupload.js"></script>
        <script src="/assetsDashboard/plugins/fancyuploder/fancy-uploader.js"></script>

        <!-- Internal Form-elements js-->
        <script src="/assetsDashboard/js/advanced-form-elements.js"></script>
        <script src="/assetsDashboard/js/select2.js"></script>
        <script src="/assetsDashboard/js/form-elements.js"></script>

        <!-- Internal TelephoneInput js-->
        <script src="/assetsDashboard/plugins/telephoneinput/telephoneinput.js"></script>
        <script src="/assetsDashboard/plugins/telephoneinput/inttelephoneinput.js"></script>

        <!-- Internal Chart.Bundle js-->
        <script src="/assetsDashboard/plugins/chart.js/Chart.bundle.min.js"></script>

        <!-- Internal Data Table js -->
        <script src="/assetsDashboard/plugins/datatable/jquery.dataTables.min.js"></script>
        <script src="/assetsDashboard/plugins/datatable/dataTables.bootstrap4.min.js"></script>
        <script src="/assetsDashboard/plugins/datatable/dataTables.responsive.min.js"></script>
        <script src="/assetsDashboard/plugins/datatable/fileexport/dataTables.buttons.min.js"></script>
        <script src="/assetsDashboard/plugins/datatable/fileexport/buttons.bootstrap4.min.js"></script>
        <script src="/assetsDashboard/plugins/datatable/fileexport/jszip.min.js"></script>
        <script src="/assetsDashboard/plugins/datatable/fileexport/pdfmake.min.js"></script>
        <script src="/assetsDashboard/plugins/datatable/fileexport/vfs_fonts.js"></script>
        <script src="/assetsDashboard/plugins/datatable/fileexport/buttons.html5.min.js"></script>
        <script src="/assetsDashboard/plugins/datatable/fileexport/buttons.print.min.js"></script>
        <script src="/assetsDashboard/plugins/datatable/fileexport/buttons.colVis.min.js"></script>
        <script src="/assetsDashboard/js/table-data.js"></script>

        <!-- Peity js-->
        <script src="/assetsDashboard/plugins/peity/jquery.peity.min.js"></script>

        <!-- Select2 js-->
        <script src="/assetsDashboard/plugins/select2/js/select2.min.js"></script>

        <!-- Perfect-scrollbar js -->
        <script src="/assetsDashboard/plugins/perfect-scrollbar/perfect-scrollbar.min.js"></script>

        <!-- Sidemenu js -->
        <script src="/assetsDashboard/plugins/sidemenu/sidemenu1.js"></script>

        <!-- Sidebar js -->
        <script src="/assetsDashboard/plugins/sidebar/sidebar.js"></script>

        <!-- Internal Morris js -->
        <script src="/assetsDashboard/plugins/raphael/raphael.min.js"></script>
        <script src="/assetsDashboard/plugins/morris.js/morris.min.js"></script>

        <!-- Circle Progress js-->
        <script src="/assetsDashboard/js/circle-progress.min.js"></script>
        <script src="/assetsDashboard/js/chart-circle.js"></script>

        <!-- Internal Dashboard js-->
        <script src="/assetsDashboard/js/index.js"></script>

        <!-- Sticky js -->
        <script src="/assetsDashboard/js/sticky.js"></script>

        <!-- Modal js-->
        <script src="/assetsDashboard/js/modal.js"></script>

        <!-- Custom js -->
        <script src="/assetsDashboard/js/custom.js"></script>

        <!-- Icheck -->
        <script src="/assetsDashboard/js/icheck.js"></script>

        <!-- Trix -->
        <script src="/assetsDashboard/js/trix.js"></script>

        <!-- Copiar a Portapapeles -->
        <script src="https://cdn.rawgit.com/zenorocha/clipboard.js/v1.5.3/dist/clipboard.min.js"></script>

        <!-- Moments JS -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js" integrity="sha512-qTXRIMyZIFb8iQcfjXWCO8+M5Tbc38Qi5WzdPOYZHIlZpzBHG3L3by84BBBOiRGiEb7KKtAOAs5qYdUiZiQNNQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment-with-locales.min.js" integrity="sha512-LGXaggshOkD/at6PFNcp2V2unf9LzFq6LE+sChH7ceMTDP0g2kn6Vxwgg7wkPP7AAtX+lmPqPdxB47A0Nz0cMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

        <!-- Tiny Slider JS -->
        <script src="/assetsDashboard/js/owlcarousel/owl.carousel.min.js"></script>

        <!-- Socket IO -->
        <!-- <script src="/socket.io/socket.io.js"></script> -->

        <!--Bootstrap-datepicker js-->
        <script src="/assetsDashboard/plugins/bootstrap-datepicker/bootstrap-datepicker.js"></script>

        <!-- Internal jquery-simple-datetimepicker js -->
        <script src="/assetsDashboard/plugins/amazeui-datetimepicker/js/amazeui.datetimepicker.min.js"></script>

        <!-- QR scanner js-->
        <script src="/assetsDashboard/js/qr-scanner.min.js"></script>

        <script type="text/javascript" src="https://checkout.epayco.co/checkout.js"></script>

        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
        
        <script>
            const noti = window.localStorage.getItem('noti');
            if(!noti){
                // alert('show alert');
                $('#modalPublicidadPopUp1').modal('show');
                window.localStorage.setItem('noti', 1); 
            }
        </script>

        <script>
          const cerrarSesion = ()=>{
            localStorage.clear();
            window.location.href = '/cerrar-sesion';
          }

          const activarScan = (e) => {

            const html5QrCode = new Html5Qrcode("reader");
            const qrCodeSuccessCallback = (decodedText, decodedResult) => {
                // console.log(`Scan result: ${decodedText}`, decodedResult);
                location.href = `.${decodedText}`;
            };
            const config = { fps: 10, qrbox: { width: 280, height: 280 } };

            // Select back camera or fail with `OverconstrainedError`.
            html5QrCode.start({ facingMode: { exact: "environment"} }, config, qrCodeSuccessCallback);

            // Select front camera or fail with `OverconstrainedError`.
            // html5QrCode.start({ facingMode: "user" }, config, qrCodeSuccessCallback);

          }
          
          const activarScanQR = (e) => {

            const html5QrCode = new Html5Qrcode("reader");
            const qrCodeSuccessCallback = (decodedText, decodedResult) => {
                // console.log(`Scan result: ${decodedText}`, decodedResult);
                location.href = decodedText;
            };
            const config = { fps: 10, qrbox: { width: 280, height: 280 } };

            // Select back camera or fail with `OverconstrainedError`.
            html5QrCode.start({ facingMode: { exact: "environment"} }, config, qrCodeSuccessCallback);

            // Select front camera or fail with `OverconstrainedError`.
            // html5QrCode.start({ facingMode: "user" }, config, qrCodeSuccessCallback);

          }

          function notificaciones() {
            fetch('/notificaciones/notificacionesUsuario', {
                method: 'POST',
                headers: {
                  'Content-type': 'application/json'
                },
                body: JSON.stringify({
                  solicitud: 'notificaciones'
                })
              })
              .then(res => res.text())
              .then(data => {

                const respuesta = JSON.parse(data);
                const ecobits = respuesta.ecobits;
                console.log(ecobits)
                const iconoNotificacionesTotal = document.getElementById('iconoTotalNotificaciones');

                const notEcobits = document.getElementById('bodyEcobits');

                iconoNotificacionesTotal.classList.add('animate__animated');
                iconoNotificacionesTotal.classList.add('animate__rubberBand');
                iconoNotificacionesTotal.classList.add('animate__infinite');

                // bajo pedido
                if (ecobits.length !== 0) {
                  const countEcobits = document.getElementById('countEcobits');
                  countEcobits.innerHTML = respuesta.countEcobits;
                  var listaEcobits = ``;

                  for (var i = 0; i < ecobits.length; i++) {

                      if (ecobits[i].receptor === respuesta.usuario.id_usuario) {
                        var span1 = `<span class="ml-auto text-success">Recibiste</span>`;
                        var span2 = `<span class="ml-auto"><i class="fas fa-circle text-success"></i></span>`;
                      } else {
                        var span1 = `<span class="ml-auto text-danger">Enviaste</span>`;
                        var span2 = `<span class="ml-auto"><i class="fa fa-ban text-danger"></i></span>`;
                      }

                      listaEcobits += `<div class="d-flex px-3 py-2 border-top">
                                                <p class="mb-0 text-capitalize">${ecobits[i].evento} - ${ecobits[i].concepto}</p>
                                                ${span1}
                                                ${span2}
                                            </div>`;
                  }

                  notEcobits.innerHTML = listaEcobits;

                } else {

                  notEcobits.innerHTML = `<div class="d-flex px-3 py-2"><p class="mb-0 text-capitalize text-center" style="color: #00154f;">AÃºn! no has empezado a mover tus Ecobits"</p></div>`;
                }

              })
          }

          notificaciones();

          setInterval('notificaciones()', 50000);
        </script>

        </body>

        </html>